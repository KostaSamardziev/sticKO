!function(i){i.fn.sticko=function(t){var e={side:"left",marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,topTollerance:50,sidebarClass:"tools"};t=i.extend({},e,t),i("."+t.sidebarClass).each(function(){i(this).css({left:t.marginLeft,"margin-right":"left"==t.side?t.marginLeft+t.marginRight:"auto",top:t.marginTop,position:"relative"})});var s=i(this).find("."+t.sidebarClass).first().width()+t.marginRight+t.marginLeft;return"left"==t.side&&(console.log("right"),i("<div></div>",{"class":"sidebar-clone",css:{width:s,display:"none",height:"1","float":"left"}}).prependTo(i(this))),_this=i(this),i(window).scroll(function(){var e=i(window).scrollTop();_this.each(function(){var s=i(this),o=s.find("."+t.sidebarClass).first(),n=s.offset().top,a=s.offset().top+s.height()-o.height()-t.marginTop-t.marginBottom;if(e+t.topTollerance<n)s.find("."+t.sidebarClass).css({position:"relative",top:t.marginTop,left:t.marginLeft,bottom:"auto"}),"left"==t.side&&i(this).find(".sidebar-clone").hide();else if(e+t.topTollerance>n&&e+t.topTollerance<a){e-s.offset().top+t.marginTop;var r=o.position().left;s.find("."+t.sidebarClass).css({position:"fixed",top:t.marginTop+t.topTollerance,left:r,bottom:"auto"}),"left"==t.side&&i(this).find(".sidebar-clone").show()}else s.find("."+t.sidebarClass).css({position:"relative",top:s.height()-o.height()-t.marginBottom,left:t.marginLeft}),"left"==t.side&&i(this).find(".sidebar-clone").hide()})}),this}}(jQuery);